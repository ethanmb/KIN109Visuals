<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>One-Way ANOVA Practice</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jstat/1.9.4/jstat.min.js"></script>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>One-Way ANOVA Practice</h1>
        </div>
        <div class="problem-area">
            <p id="problem-description">Click "Generate New Problem" to start!</p>
        </div>
        <button id="generate-problem-button">Generate New Problem</button>

        <!-- Step 1: Hypotheses -->
        <div id="step-1-hypotheses" class="hidden">
            <p><strong>Step 1: State the Hypotheses</strong></p>
            <p>Drag and drop symbols to complete the hypotheses:</p>
            <div>
                H₀: μ₁ <span class="drop-area" ondrop="drop(event)" ondragover="allowDrop(event)">[Drop Here]</span> μ₂ <span class="drop-area" ondrop="drop(event)" ondragover="allowDrop(event)">[Drop Here]</span> μ₃
            </div>
            <div>
                H₁: At least one group mean differs.
            </div>
            <p>Available symbols: 
                <span draggable="true" ondragstart="drag(event)">=</span>,
                <span draggable="true" ondragstart="drag(event)">≠</span>
            </p>
            <button id="submit-hypotheses-button">Submit Hypotheses</button>
            <div id="hypotheses-feedback"></div>
        </div>

        <!-- Step 2: Null Distribution -->
        <div id="step-2-null-distribution" class="hidden">
            <p><strong>Step 2: Determine the Characteristics of the Null Distribution</strong></p>
            <p>Degrees of freedom:</p>
            <ul>
                <li>df Between Groups: <input id="df-between" type="number"></li>
                <li>df Within Groups: <input id="df-within" type="number"></li>
                <li>df Total: <input id="df-total" type="number"></li>
            </ul>
            <button id="submit-df-button">Submit Degrees of Freedom</button>
            <div id="df-feedback"></div>
        </div>

        <!-- Step 3: Critical F-Value -->
        <div id="step-3-critical-f" class="hidden">
            <p><strong>Step 3: Determine the Critical F-Value</strong></p>
            <p>Refer to the F-table to identify the critical F-value:</p>
            <p>Enter the critical F-value:</p>
            <input id="critical-f-value" type="number" step="0.001" placeholder="Critical F-value">
            <button id="submit-critical-f-button">Submit</button>
            <div id="critical-f-feedback"></div>

            <!-- Universal F-Table Toggle Button -->
            <button id="f-table-toggle-button" class="validate-button">Open F-Table</button>

            <!-- F-Table Section -->
            <div id="f-table" class="hidden">
                <img src="assets/f-table.png" alt="F-Table" style="max-width: 100%; margin-top: 10px;">
                <button id="close-f-table-button" class="validate-button">Close F-Table</button>
            </div>
        </div>


        <!-- Step 4: ANOVA Table -->
        <div id="step-4-anova-table" class="hidden">
            <p><strong>Step 4: Fill in the ANOVA Table</strong></p>
            <p>Use the data provided to calculate the values for the ANOVA table. Validate each column after completion:</p>
            <table>
                <thead>
                    <tr>
                        <th>Source</th>
                        <th>SS <br><button id="validate-ss" class="validate-button">Check SS</button></th>
                        <th>df</th>
                        <th>MS <br><button id="validate-ms" class="validate-button">Check MS</button></th>
                        <th>F <br><button id="validate-f" class="validate-button">Check F</button></th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Between Groups</td>
                        <td><input id="ss-between" type="number" step="0.001" placeholder="Enter SS"></td>
                        <td id="df-between-cell"></td>
                        <td><input id="ms-between" type="number" step="0.001" placeholder="Enter MS"></td>
                        <td><input id="f-statistic" type="number" step="0.001" placeholder="Enter F"></td>
                    </tr>
                    <tr>
                        <td>Within Groups</td>
                        <td><input id="ss-within" type="number" step="0.001" placeholder="Enter SS"></td>
                        <td id="df-within-cell"></td>
                        <td><input id="ms-within" type="number" step="0.001" placeholder="Enter MS"></td>
                        <td></td> <!-- Empty F cell -->
                    </tr>
                    <tr>
                        <td>Total</td>
                        <td><input id="ss-total" type="number" step="0.001" placeholder="Enter SS"></td>
                        <td id="df-total-cell"></td>
                        <td>N/A</td>
                        <td></td> <!-- Empty F cell -->
                    </tr>
                </tbody>
            </table>

            <!-- Feedback -->
            <div id="anova-feedback"></div>
        </div>






    </div>


    <script src="script.js"></script>
</body>
</html>
